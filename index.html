<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>YKS YARDIMCIM - KOMUTAN MERÄ°Ã‡</title>
    <style>
        /* --- CORE THEME: CYBERPUNK NEON --- */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap');

        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-gold: #ffd700;
            --neon-green: #0aff0a;
            --neon-red: #ff3333;
            --bg-dark: #050510;
            --glass-panel: rgba(10, 10, 25, 0.85); /* Arka planÄ± biraz gÃ¶sterir */
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0; padding: 0;
            background-color: var(--bg-dark);
            color: white;
            font-family: 'Rajdhani', sans-serif;
            height: 100vh;
            overflow-x: hidden;
        }

        /* --- ARKA PLAN UZAY SAVAÅI (CANVAS) --- */
        #spaceCanvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; /* En arkada */
            background: radial-gradient(circle at center, #1a1a2e 0%, #000 100%);
        }

        /* --- LAYOUT --- */
        #app { display: flex; height: 100%; position: relative; z-index: 1; }

        /* SIDEBAR (SOL MENÃœ) */
        .sidebar {
            width: 340px; min-width: 340px;
            background: rgba(5, 5, 10, 0.9);
            border-right: 2px solid var(--neon-blue);
            backdrop-filter: blur(10px);
            display: flex; flex-direction: column;
            padding: 25px;
            box-shadow: 10px 0 50px rgba(0, 243, 255, 0.15);
            z-index: 20; overflow-y: auto;
        }

        .logo-box {
            width: 140px; height: 140px; margin: 0 auto 20px;
            border-radius: 50%; border: 4px solid var(--neon-gold);
            background-color: #000;
            background-image: url('logo.jpeg'); 
            background-size: cover; background-position: center;
            box-shadow: 0 0 40px var(--neon-gold), inset 0 0 20px var(--neon-gold);
            animation: pulseLogo 3s infinite alternate;
        }
        @keyframes pulseLogo { from { box-shadow: 0 0 20px var(--neon-gold); } to { box-shadow: 0 0 50px var(--neon-gold); } }

        h1 {
            font-family: 'Orbitron'; font-size: 26px; text-align: center; margin: 10px 0;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-pink));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
        }
        h2 { text-align: center; font-size: 14px; color: #aaa; letter-spacing: 4px; margin-bottom: 20px; font-weight: bold; text-transform: uppercase; }

        /* BUTONLAR */
        .menu-btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: #ddd; padding: 15px; margin-bottom: 12px;
            text-align: left; font-family: 'Orbitron'; cursor: pointer;
            transition: 0.3s; border-radius: 8px; font-size: 15px; display: flex; align-items: center;
        }
        .menu-btn:hover { 
            background: linear-gradient(90deg, rgba(0, 243, 255, 0.2), transparent);
            border-color: var(--neon-blue); padding-left: 25px; box-shadow: 0 0 15px var(--neon-blue);
        }
        .menu-btn.active {
            background: linear-gradient(90deg, rgba(255, 215, 0, 0.2), transparent);
            border-left: 5px solid var(--neon-gold); color: var(--neon-gold); text-shadow: 0 0 5px var(--neon-gold);
        }

        /* Ä°Ã‡ERÄ°K ALANI */
        .main-content {
            flex: 1; position: relative; overflow-y: auto; padding: 40px;
            background: rgba(0,0,0,0.6); /* Arka planÄ± hafif karart ki yazÄ±lar okunsun */
            -webkit-overflow-scrolling: touch;
        }

        /* DASHBOARD */
        .home-title { font-size: 48px; margin-bottom: 10px; text-shadow: 0 0 20px rgba(255,255,255,0.2); }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .stat-card {
            background: rgba(20, 20, 40, 0.8); backdrop-filter: blur(5px);
            padding: 30px; border-radius: 20px; border: 1px solid; text-align: center;
            box-shadow: 0 0 30px rgba(0,0,0,0.5); position: relative; overflow: hidden;
        }
        .stat-card::before {
            content:''; position: absolute; top:-50%; left:-50%; width:200%; height:200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.05), transparent);
            transform: rotate(45deg); animation: shine 3s infinite;
        }
        @keyframes shine { 0% {top:-150%; left:-150%;} 100% {top:150%; left:150%;} }
        .stat-val { font-size: 60px; font-weight: 900; margin: 15px 0; text-shadow: 0 0 20px currentColor; }

        /* MEGA KÃœTÃœPHANE KARTLARI */
        .grid-topics { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; }
        .card-topic { 
            background: linear-gradient(160deg, rgba(20,20,40,0.9), rgba(5,5,10,0.95));
            border: 1px solid #444; border-radius: 15px; padding: 25px; cursor: pointer; 
            transition: 0.4s; position: relative; overflow: hidden;
        }
        .card-topic:hover { 
            transform: translateY(-10px) scale(1.02); 
            border-color: var(--neon-pink); 
            box-shadow: 0 10px 40px rgba(188, 19, 254, 0.3); 
        }
        .card-topic h3 { color: white; font-size: 22px; margin-top: 0; }
        .topic-status { position: absolute; top: 15px; right: 15px; font-size: 20px; }

        /* READER (DERS NOTLARI) */
        .reader-container {
            max-width: 1200px; margin: 0 auto; 
            background: rgba(12, 12, 25, 0.96); 
            border: 1px solid var(--neon-blue);
            padding: 60px; border-radius: 20px; 
            box-shadow: 0 0 100px rgba(0, 243, 255, 0.15); 
            display: none; animation: slideUp 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .reader-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--neon-blue); padding-bottom: 20px; margin-bottom: 40px; }
        .reader-title { font-family: 'Orbitron'; font-size: 38px; color: var(--neon-blue); text-shadow: 0 0 15px var(--neon-blue); }
        
        /* ZENGÄ°N Ä°Ã‡ERÄ°K STÄ°LLERÄ° */
        .content-body { font-size: 19px; line-height: 1.8; color: #e0e0e0; }
        .content-body h3 { 
            font-family: 'Orbitron'; color: var(--neon-gold); font-size: 26px; margin-top: 50px; 
            border-left: 5px solid var(--neon-gold); padding-left: 20px; 
            background: linear-gradient(90deg, rgba(255, 215, 0, 0.1), transparent);
            padding-top: 10px; padding-bottom: 10px;
        }
        .content-body p { margin-bottom: 20px; }
        .content-body strong { color: white; font-weight: 700; }
        .content-body ul { background: rgba(255,255,255,0.03); padding: 30px 50px; border-radius: 15px; border: 1px dashed #555; }
        .content-body li { margin-bottom: 12px; }

        /* KUTULAR */
        .box-info { border-left: 5px solid var(--neon-blue); background: rgba(0, 243, 255, 0.1); padding: 20px; margin: 30px 0; border-radius: 0 10px 10px 0; }
        .box-warning { border-left: 5px solid var(--neon-red); background: rgba(255, 50, 50, 0.1); padding: 20px; margin: 30px 0; border-radius: 0 10px 10px 0; color: #ffcccc; }
        .box-formula { 
            border: 2px solid var(--neon-green); background: rgba(10, 255, 10, 0.05); 
            padding: 25px; margin: 35px 0; text-align: center; 
            font-family: 'Orbitron'; font-size: 28px; color: var(--neon-green); 
            border-radius: 15px; box-shadow: 0 0 30px rgba(10, 255, 10, 0.1);
        }

        /* SVG GRAFÄ°KLERÄ° */
        .diagram-box { 
            background: #080810; border: 1px solid #444; border-radius: 15px; padding: 20px; 
            margin: 40px 0; display: flex; justify-content: center; overflow-x: auto;
        }
        svg text { font-family: 'Rajdhani'; font-weight: bold; }

        /* QUIZ POPUP */
        .quiz-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 100; display: none; justify-content: center; align-items: center; padding: 20px; }
        .quiz-modal { 
            background: #151525; padding: 40px; border-radius: 20px; border: 2px solid var(--neon-pink); 
            width: 700px; max-width: 100%; text-align: center; box-shadow: 0 0 80px rgba(188, 19, 254, 0.3);
            animation: bounceIn 0.5s;
        }
        .btn-opt { 
            width: 100%; padding: 18px; margin-top: 15px; background: #222; border: 1px solid #444; 
            color: white; font-size: 18px; cursor: pointer; transition: 0.3s; border-radius: 10px; font-family: 'Rajdhani'; font-weight: bold;
        }
        .btn-opt:hover { background: #333; border-color: var(--neon-blue); transform: scale(1.02); }

        /* UTILS */
        .hidden { display: none !important; }
        .btn-glow { 
            padding: 15px 40px; background: var(--neon-blue); color: #000; border: none; font-weight: 900; 
            cursor: pointer; border-radius: 8px; font-size: 18px; font-family: 'Orbitron'; 
            box-shadow: 0 0 20px var(--neon-blue); transition: 0.3s;
        }
        .btn-glow:hover { background: white; box-shadow: 0 0 40px white; transform: translateY(-3px); }

        /* --- MOBÄ°L RESPONSIVE --- */
        @media (max-width: 900px) {
            #app { flex-direction: column; }
            .sidebar { width: 100%; min-width: auto; height: auto; border-right: none; border-bottom: 2px solid var(--neon-blue); position: relative; }
            .logo-box { width: 90px; height: 90px; border-width: 3px; }
            h1 { font-size: 22px; }
            .main-content { padding: 20px; }
            .home-title { font-size: 30px; text-align: center; }
            .stats-grid { grid-template-columns: 1fr; gap: 15px; }
            .stat-val { font-size: 40px; }
            .reader-container { padding: 25px; }
            .reader-title { font-size: 24px; }
            .content-body { font-size: 16px; }
            .box-formula { font-size: 20px; padding: 15px; }
        }

        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes bounceIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>

<canvas id="spaceCanvas"></canvas>

<div id="app">
    <div class="sidebar">
        <div class="logo-box"></div>
        <h1>KOMUTAN MERÄ°Ã‡</h1>
        <h2>YKS SAVAÅ ÃœSSÃœ</h2>
        
        <div style="margin: 15px 0; background: rgba(0,0,0,0.5); padding: 15px; border-radius: 10px; border: 1px solid #333;">
            <div style="display:flex; justify-content:space-between; color: var(--neon-gold); font-weight:bold; font-size: 14px; margin-bottom:5px;">
                <span id="levelLabel">LEVEL 1</span>
                <span id="xpText">0 XP</span>
            </div>
            <div style="height: 10px; background: #222; border-radius: 5px; overflow: hidden;">
                <div id="xpBar" style="height: 100%; background: var(--neon-gold); width: 0%; transition: 0.5s; box-shadow: 0 0 10px var(--neon-gold);"></div>
            </div>
        </div>

        <nav>
            <button class="menu-btn active" onclick="nav('home')">ğŸš€ ANA KARARGAH</button>
            <button class="menu-btn" onclick="nav('topics')">ğŸ“š MEGA KÃœTÃœPHANE</button>
            <button class="menu-btn" onclick="startRandomQuiz()">âš”ï¸ SAVAÅ SÄ°MÃœLASYONU</button>
            <button class="menu-btn" style="color:#ff5555" onclick="resetSys()">âš ï¸ SÄ°STEMÄ° Ä°MHA ET</button>
        </nav>
    </div>

    <div class="main-content">
        <div id="view-home">
            <h1 class="home-title">GÃ–REV ANI GELDÄ° <span style="color:var(--neon-gold)">KOMUTAN.</span></h1>
            <p style="color: #ccc; font-size: 20px; text-align: center; margin-bottom: 40px; text-shadow: 0 0 5px black;">
                Arka planda uzaylÄ± istilasÄ± baÅŸladÄ±. Fizik bilgini kullanarak evreni kurtar!
            </p>
            
            <div class="stats-grid">
                <div class="stat-card" style="border-color: var(--neon-blue);">
                    <h3 style="margin:0; color:var(--neon-blue); font-size: 18px;">FETHEDÄ°LEN KONULAR</h3>
                    <div id="statTopics" class="stat-val" style="color: var(--neon-blue);">0</div>
                </div>
                <div class="stat-card" style="border-color: var(--neon-gold);">
                    <h3 style="margin:0; color:var(--neon-gold); font-size: 18px;">TOPLAM XP GÃœCÃœ</h3>
                    <div id="statXP" class="stat-val" style="color: var(--neon-gold);">0</div>
                </div>
            </div>
        </div>

        <div id="view-topics" class="hidden">
            <h1 style="text-align: center; margin-bottom: 30px; color: var(--neon-pink); font-size: 32px; font-family: 'Orbitron'; text-shadow: 0 0 20px var(--neon-pink);">GALAKTÄ°K FÄ°ZÄ°K ARÅÄ°VÄ°</h1>
            <div class="grid-topics" id="topicGrid"></div>
        </div>

        <div id="view-reader" class="reader-container">
            <div class="reader-header">
                <div class="reader-title" id="readTitle">Konu BaÅŸlÄ±ÄŸÄ±</div>
                <button class="btn-glow" style="padding: 10px 20px; font-size: 14px; background: #333; color: white; box-shadow:none; border:1px solid #555;" onclick="nav('topics')">KAPAT X</button>
            </div>
            <div class="content-body" id="readBody"></div>
            <div style="margin-top: 60px; text-align: center; border-top: 1px solid #333; padding-top: 30px;">
                <button class="btn-glow" onclick="finishTopic()">âœ… GÃ–REVÄ° TAMAMLA (+100 XP)</button>
            </div>
        </div>
    </div>
</div>

<div id="quizModal" class="quiz-overlay">
    <div class="quiz-modal">
        <h2 style="color: var(--neon-gold); font-size: 30px;">âš¡ DÃœÅMAN TESPÄ°T EDÄ°LDÄ° âš¡</h2>
        <div id="quizQ" style="font-size: 24px; margin: 30px 0; font-weight: bold; color:white;">Soru yÃ¼kleniyor...</div>
        <div id="quizOpts"></div>
        <div id="quizRes" style="margin-top: 25px; font-weight: bold; font-size: 20px; min-height: 30px;"></div>
        <button onclick="closeQuiz()" style="margin-top: 25px; background:transparent; border:1px solid #555; color:#aaa; padding:10px 30px; cursor:pointer; border-radius:5px;">Ã‡IKIÅ</button>
    </div>
</div>

<script>
/* ----------------------------------------------------------------
   BÃ–LÃœM 1: UZAY SAVAÅI ANÄ°MASYONU (CANVAS)
   ---------------------------------------------------------------- */
const canvas = document.getElementById('spaceCanvas');
const ctx = canvas.getContext('2d');
let w, h;
let entities = [];

function resize() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
window.addEventListener('resize', resize);
resize();

class Entity {
    constructor(x, y, type) {
        this.x = x; this.y = y; this.type = type; // 0: Star, 1: Alien, 2: Laser
        this.size = type === 0 ? Math.random() * 2 : (type === 1 ? 20 : 30); // Lazer uzunluÄŸu
        this.speed = type === 0 ? Math.random() * 0.5 + 0.1 : (type === 1 ? Math.random() + 0.5 : 8);
        this.color = type === 0 ? `rgba(255,255,255,${Math.random()})` : (type === 1 ? '#0aff0a' : '#ff0055');
        this.vx = type === 1 ? (Math.random()-0.5) : 0;
    }
    update() {
        this.y += this.speed;
        if(this.type === 1) this.x += this.vx; // Alien yanal hareket
        
        // Reset or Remove
        if(this.y > h) {
            if(this.type === 2) return false; // Lazer yok ol
            this.y = -20; this.x = Math.random() * w; // YÄ±ldÄ±z ve Alien dÃ¶ngÃ¼sÃ¼
        }
        return true;
    }
    draw() {
        ctx.fillStyle = this.color;
        if(this.type === 0) {
            ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill();
        } else if (this.type === 1) {
            // Alien Ã‡izimi (Basit Gemi)
            ctx.shadowBlur = 10; ctx.shadowColor = this.color;
            ctx.fillRect(this.x, this.y, 20, 10);
            ctx.fillRect(this.x+5, this.y-5, 10, 5);
            ctx.shadowBlur = 0;
            // AteÅŸ Etme ÅansÄ±
            if(Math.random() < 0.005) entities.push(new Entity(this.x+10, this.y+10, 2));
        } else if (this.type === 2) {
            // Lazer Ã‡izimi
            ctx.shadowBlur = 10; ctx.shadowColor = this.color;
            ctx.fillRect(this.x, this.y, 2, 15);
            ctx.shadowBlur = 0;
        }
    }
}

// BaÅŸlangÄ±Ã§: 100 yÄ±ldÄ±z, 10 alien
for(let i=0; i<100; i++) entities.push(new Entity(Math.random()*w, Math.random()*h, 0));
for(let i=0; i<10; i++) entities.push(new Entity(Math.random()*w, Math.random()*h, 1));

function loop() {
    ctx.clearRect(0,0,w,h);
    entities = entities.filter(e => {
        e.draw();
        return e.update();
    });
    requestAnimationFrame(loop);
}
loop();

/* ----------------------------------------------------------------
   BÃ–LÃœM 2: MEGA KÃœTÃœPHANE (GENÄ°ÅLETÄ°LMÄ°Å Ä°Ã‡ERÄ°K)
   ---------------------------------------------------------------- */
const DB = [
    {
        id: "fizik_giris",
        title: "1. Fizik Bilimine GiriÅŸ",
        desc: "Fizik nedir? Alt dallar, bÃ¼yÃ¼klÃ¼kler ve vektÃ¶rler.",
        content: `
            <h3>1. Fizik Nedir?</h3>
            <p>Fizik; madde ve enerji arasÄ±ndaki etkileÅŸimi inceleyen, doÄŸa olaylarÄ±nÄ± aÃ§Ä±klamaya Ã§alÄ±ÅŸan, <strong>gÃ¶zlem ve deneye</strong> dayalÄ± bilimdir. Fizik kanunlarÄ± evrenseldir ancak "Mutlak DoÄŸru" deÄŸildir; zamanla deÄŸiÅŸebilir.</p>
            <div class="box-warning">âš ï¸ DÄ°KKAT: Metafizik (ruhlar), Teoloji (din), Astroloji (burÃ§lar) fizik deÄŸildir! Fizik sadece Ã¶lÃ§Ã¼lebilir evrenle ilgilenir.</div>

            <h3>2. FiziÄŸin Alt DallarÄ± (Kodlama: KAMYONET)</h3>
            <ul>
                <li><strong>K</strong>atÄ±hal FiziÄŸi: Kristal yapÄ±lar, nanoteknoloji, yarÄ± iletkenler.</li>
                <li><strong>A</strong>tom FiziÄŸi: Atomun yapÄ±sÄ±, molekÃ¼ller.</li>
                <li><strong>M</strong>ekanik: Hareket, kuvvet, denge.</li>
                <li><strong>Y</strong>Ã¼ksek Enerji: CERN, atom altÄ± parÃ§acÄ±klar.</li>
                <li><strong>O</strong>ptik: IÅŸÄ±k, gÃ¶lge, renkler.</li>
                <li><strong>N</strong>Ã¼kleer: Atom Ã‡EKÄ°RDEÄÄ° (Fisyon/FÃ¼zyon).</li>
                <li><strong>E</strong>lektromanyetizma: YÃ¼kler, mÄ±knatÄ±slar.</li>
                <li><strong>T</strong>ermodinamik: IsÄ± ve sÄ±caklÄ±k.</li>
            </ul>

            <h3>3. BÃ¼yÃ¼klÃ¼kler</h3>
            <div class="box-info">
                <strong>Temel BÃ¼yÃ¼klÃ¼kler (KISA MUZ):</strong> KÃ¼tle, IÅŸÄ±k Åiddeti, SÄ±caklÄ±k, AkÄ±m, Madde, Uzunluk, Zaman.<br>
                <strong>VektÃ¶rel BÃ¼yÃ¼klÃ¼kler (YÃ¶nlÃ¼):</strong> Kuvvet, HÄ±z, Ä°vme, Yer DeÄŸiÅŸtirme.
            </div>

            <h3>4. VektÃ¶rlerin ToplanmasÄ±</h3>
            <div class="diagram-box">
                <svg width="300" height="150" viewBox="0 0 300 150">
                    <line x1="20" y1="100" x2="280" y2="100" stroke="#444" stroke-width="2" />
                    <line x1="50" y1="100" x2="150" y2="100" stroke="#00f3ff" stroke-width="4" marker-end="url(#arrow)" />
                    <text x="80" y="80" fill="#00f3ff">F1 = 10N</text>
                    <line x1="150" y1="100" x2="200" y2="100" stroke="#ffd700" stroke-width="4" marker-end="url(#arrow)" />
                    <text x="160" y="70" fill="#ffd700">F2 = 5N</text>
                    <text x="50" y="140" fill="white">BileÅŸke (R) = 15N (SaÄŸa)</text>
                    <defs><marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,6 L9,3 z" fill="white" /></marker></defs>
                </svg>
            </div>
        `,
        questions: [
            { q: "AÅŸaÄŸÄ±dakilerden hangisi Temel BÃ¼yÃ¼klÃ¼k deÄŸildir?", opts: ["KÃ¼tle", "Zaman", "HÄ±z", "SÄ±caklÄ±k"], a: 2 },
            { q: "Kristal yapÄ±larÄ± ve nanoteknolojiyi hangi dal inceler?", opts: ["Optik", "KatÄ±hal FiziÄŸi", "Mekanik", "NÃ¼kleer"], a: 1 }
        ]
    },
    {
        id: "madde",
        title: "2. Madde ve Ã–zellikleri",
        desc: "Ã–zkÃ¼tle, dayanÄ±klÄ±lÄ±k, adhezyon ve kohezyon.",
        content: `
            <h3>1. Ã–zkÃ¼tle (YoÄŸunluk)</h3>
            <p>Birim hacimdeki madde miktarÄ±dÄ±r. Sabit sÄ±caklÄ±k ve basÄ±nÃ§ta maddeler iÃ§in <strong>ayÄ±rt edici</strong> Ã¶zelliktir. KÃ¼tle artsa bile hacim de artacaÄŸÄ± iÃ§in Ã¶zkÃ¼tle deÄŸiÅŸmez.</p>
            <div class="box-formula">d = m / V</div>
            
            <h3>2. DayanÄ±klÄ±lÄ±k</h3>
            <p>Bir cismin kendi aÄŸÄ±rlÄ±ÄŸÄ±na karÅŸÄ± dayanÄ±klÄ±lÄ±ÄŸÄ± <strong>Kesit AlanÄ± / Hacim</strong> ile orantÄ±lÄ±dÄ±r. DÃ¼zgÃ¼n geometrik cisimlerde bu oran <strong>1 / YÃ¼kseklik</strong>'tir. Yani cisim bÃ¼yÃ¼dÃ¼kÃ§e kendi aÄŸÄ±rlÄ±ÄŸÄ±na karÅŸÄ± zayÄ±flar.</p>

            <h3>3. YÃ¼zey Kuvvetleri</h3>
            <ul>
                <li><strong>Adhezyon (YapÄ±ÅŸma):</strong> FarklÄ± molekÃ¼ller arasÄ± Ã§ekim. (Su damlasÄ±nÄ±n cama yapÄ±ÅŸmasÄ±, KÄ±lcallÄ±k etkisi).</li>
                <li><strong>Kohezyon (Tutunma):</strong> AynÄ± molekÃ¼ller arasÄ± Ã§ekim. (Su damlasÄ±nÄ±n kÃ¼resel olmasÄ±, YÃ¼zey Gerilimi).</li>
            </ul>
            <div class="box-warning">Deterjan ve sÄ±caklÄ±k artÄ±ÅŸÄ± yÃ¼zey gerilimini AZALTIR!</div>
        `,
        questions: [
            { q: "KÃ¼tle-Hacim grafiÄŸinin eÄŸimi neyi verir?", opts: ["AÄŸÄ±rlÄ±k", "Ã–zkÃ¼tle", "DayanÄ±klÄ±lÄ±k", "Kuvvet"], a: 1 },
            { q: "Su damlasÄ±nÄ±n kÃ¼resel ÅŸekil almasÄ±nÄ± ne saÄŸlar?", opts: ["Adhezyon", "Kohezyon", "KaldÄ±rma", "SÃ¼rtÃ¼nme"], a: 1 }
        ]
    },
    {
        id: "hareket",
        title: "3. Hareket ve Kuvvet",
        desc: "HÄ±z vs SÃ¼rat, Ä°vme, Newton YasalarÄ±.",
        content: `
            <h3>1. Kavramlar</h3>
            <p><strong>Yer DeÄŸiÅŸtirme (Î”x):</strong> Ä°lk ve son konum arasÄ± vektÃ¶rel mesafe.<br>
            <strong>AlÄ±nan Yol:</strong> Gidilen toplam mesafe (Skaler).</p>
            <div class="box-formula">
                HÄ±z (v) = Î”x / t (VektÃ¶rel)<br>
                SÃ¼rat = Yol / t (Skaler)
            </div>

            <h3>2. Grafikler</h3>
            <ul>
                <li><strong>Konum-Zaman</strong> eÄŸimi HIZI verir.</li>
                <li><strong>HÄ±z-Zaman</strong> eÄŸimi Ä°VMEYÄ°, altÄ±ndaki alan YER DEÄÄ°ÅTÄ°RMEYÄ° verir.</li>
                <li><strong>Ä°vme-Zaman</strong> altÄ±ndaki alan HIZ DEÄÄ°ÅÄ°MÄ°NÄ° verir.</li>
            </ul>

            <h3>3. Newton'un YasalarÄ±</h3>
            <ul>
                <li><strong>Eylemsizlik:</strong> Net kuvvet sÄ±fÄ±rsa duran durur, giden sabit hÄ±zla gider.</li>
                <li><strong>Temel Yasa (F=ma):</strong> Kuvvet varsa ivme vardÄ±r.</li>
                <li><strong>Etki-Tepki:</strong> Her etkiye eÅŸit ve zÄ±t bir tepki vardÄ±r. (Tepki kuvveti temas gerektirir).</li>
            </ul>
        `,
        questions: [
            { q: "HÄ±z-Zaman grafiÄŸinin altÄ±ndaki alan neyi verir?", opts: ["Ä°vme", "HÄ±z", "Yer DeÄŸiÅŸtirme", "Kuvvet"], a: 2 },
            { q: "AracÄ±n gÃ¶stergesi neyi Ã¶lÃ§er?", opts: ["HÄ±z", "SÃ¼rat", "Yer DeÄŸiÅŸtirme", "Ä°vme"], a: 1 }
        ]
    },
    {
        id: "isi",
        title: "4. IsÄ± ve SÄ±caklÄ±k",
        desc: "Termodinamik, Ã–z Ä±sÄ±, Hal DeÄŸiÅŸimi.",
        content: `
            <h3>1. Farklar</h3>
            <p>SÄ±caklÄ±k bir Ã¶lÃ§Ã¼mdÃ¼r (Termometre), IsÄ± bir enerjidir (Kalorimetre). IsÄ± sÄ±cak maddeden soÄŸuk maddeye akar.</p>

            <h3>2. Hal DeÄŸiÅŸimi</h3>
            <p>Maddeler hal deÄŸiÅŸtirirken (Erime/Kaynama) sÄ±caklÄ±klarÄ± <strong>SABÄ°T KALIR</strong>. AlÄ±nan Ä±sÄ±, molekÃ¼l baÄŸlarÄ±nÄ± kÄ±rmaya harcanÄ±r.</p>
            <div class="box-formula">
                Q = m . c . Î”T (SÄ±caklÄ±k deÄŸiÅŸimi)<br>
                Q = m . L (Hal deÄŸiÅŸimi)
            </div>

            <h3>3. GenleÅŸme</h3>
            <p>IsÄ±nan maddeler genleÅŸir (Su hariÃ§, su +4 derecede en yoÄŸun haldedir). Fotokopi gibi bÃ¼yÃ¼me gerÃ§ekleÅŸir; delikli bir levha Ä±sÄ±tÄ±lÄ±rsa delik de bÃ¼yÃ¼r.</p>
        `,
        questions: [
            { q: "IsÄ± birimi nedir?", opts: ["Celcius", "Kelvin", "Watt", "Joule"], a: 3 },
            { q: "Hal deÄŸiÅŸimi sÄ±rasÄ±nda sÄ±caklÄ±k?", opts: ["Artar", "AzalÄ±r", "Sabit KalÄ±r", "SÄ±fÄ±r Olur"], a: 2 }
        ]
    },
    {
        id: "optik",
        title: "5. Optik ve Renkler",
        desc: "AydÄ±nlanma, Aynalar, IÅŸÄ±k Renkleri.",
        content: `
            <h3>1. IÅŸÄ±k Renkleri</h3>
            <p>Fizikte ana renkler: <strong>KÄ±rmÄ±zÄ±, YeÅŸil, Mavi</strong>'dir. (Boyadaki gibi sarÄ± deÄŸil!).</p>
            <ul>
                <li>KÄ±rmÄ±zÄ± + YeÅŸil = <strong>SarÄ±</strong></li>
                <li>KÄ±rmÄ±zÄ± + Mavi = <strong>Magenta</strong></li>
                <li>YeÅŸil + Mavi = <strong>Cyan</strong></li>
                <li>Hepsi = Beyaz</li>
            </ul>

            <h3>2. Aynalar</h3>
            <div class="box-info">
                <strong>DÃ¼z Ayna:</strong> Simetrik, sanal, eÅŸit boy.<br>
                <strong>Ã‡ukur Ayna:</strong> Odaklar. GÃ¶rÃ¼ntÃ¼ ters/dÃ¼z, bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k olabilir.<br>
                <strong>TÃ¼msek Ayna:</strong> DaÄŸÄ±tÄ±r. GÃ¶rÃ¼ntÃ¼ daima DÃœZ, KÃœÃ‡ÃœK ve SANALDIR.
            </div>

            <h3>3. KÄ±rÄ±lma</h3>
            <p>Az yoÄŸundan Ã§ok yoÄŸuna geÃ§en Ä±ÅŸÄ±k Normale YAKLAÅIR. (Havadan suya). Ã‡oktan aza geÃ§en uzaklaÅŸÄ±r.</p>
        `,
        questions: [
            { q: "IÅŸÄ±kta KÄ±rmÄ±zÄ± + YeÅŸil hangi rengi verir?", opts: ["Mavi", "Mor", "SarÄ±", "Beyaz"], a: 2 },
            { q: "Daima kÃ¼Ã§Ã¼k ve dÃ¼z gÃ¶rÃ¼ntÃ¼ veren ayna?", opts: ["DÃ¼z", "Ã‡ukur", "TÃ¼msek", "HiÃ§biri"], a: 2 }
        ]
    }
];

/* ----------------------------------------------------------------
   BÃ–LÃœM 3: UYGULAMA MANTIÄI (JS)
   ---------------------------------------------------------------- */
let user = { xp: 0, level: 1, finished: [], totalXP: 0 };

window.onload = function() {
    const img = new Image(); img.src = 'logo.jpeg';
    img.onload = () => { document.querySelector('.logo-box').style.backgroundImage = "url('logo.jpeg')"; };
    loadSys(); renderTopics();
    
    // Mobil dÃ¼zeltme
    if(window.innerWidth < 900) { document.querySelector('.sidebar').scrollTo(0,0); }
};

function nav(view) {
    document.getElementById('view-home').classList.add('hidden');
    document.getElementById('view-topics').classList.add('hidden');
    document.getElementById('view-reader').style.display = 'none';
    document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));

    if(view === 'home') {
        document.getElementById('view-home').classList.remove('hidden');
        document.querySelectorAll('.menu-btn')[0].classList.add('active');
    } else if (view === 'topics') {
        document.getElementById('view-topics').classList.remove('hidden');
        document.querySelectorAll('.menu-btn')[1].classList.add('active');
    }
    
    // Mobilde scroll yukarÄ±
    if(window.innerWidth < 900 && view !== 'none') {
        window.scrollTo({ top: document.querySelector('.sidebar').clientHeight, behavior: 'smooth' });
    }
}

function renderTopics() {
    const grid = document.getElementById('topicGrid'); grid.innerHTML = '';
    DB.forEach(t => {
        const isDone = user.finished.includes(t.id);
        const statusHTML = isDone ? '<span style="color:var(--neon-green)">âœ… GÃ–REV TAMAM</span>' : '<span style="color:#666">â­• BEKLÄ°YOR</span>';
        const card = document.createElement('div'); card.className = 'card-topic';
        card.innerHTML = `
            <div class="topic-status">${isDone ? 'ğŸ†' : ''}</div>
            <h3>${t.title}</h3>
            <p style="color:#aaa; font-size:14px;">${t.desc}</p>
            <div style="font-weight:bold; font-size:13px; margin-top:15px;">${statusHTML}</div>
        `;
        card.onclick = () => openReader(t.id); grid.appendChild(card);
    });
}

let activeTopic = null;
function openReader(id) {
    activeTopic = id; const t = DB.find(x => x.id === id); nav('none');
    const r = document.getElementById('view-reader'); r.style.display = 'block';
    document.getElementById('readTitle').innerText = t.title; 
    document.getElementById('readBody').innerHTML = t.content;
    if(window.innerWidth < 900) window.scrollTo({ top: document.querySelector('.sidebar').clientHeight, behavior: 'smooth' });
}

function finishTopic() {
    if(activeTopic && !user.finished.includes(activeTopic)) {
        user.finished.push(activeTopic); addXP(100); 
        alert("GÃ–REV BAÅARILI: +100 XP KAZANDINIZ!"); saveSys(); nav('topics'); renderTopics();
    } else { alert("Bu gÃ¶revi zaten tamamladÄ±nÄ±z Komutan."); nav('topics'); }
}

function startRandomQuiz() {
    const t = DB[Math.floor(Math.random() * DB.length)];
    const q = t.questions[Math.floor(Math.random() * t.questions.length)];
    const m = document.getElementById('quizModal'); m.style.display = 'flex';
    document.getElementById('quizQ').innerText = q.q; document.getElementById('quizRes').innerText = "";
    const opts = document.getElementById('quizOpts'); opts.innerHTML = '';
    
    q.opts.forEach((opt, idx) => {
        const btn = document.createElement('button'); btn.className = 'btn-opt'; btn.innerText = opt;
        btn.onclick = () => {
            if(idx === q.a) { 
                btn.style.background = 'var(--neon-green)'; btn.style.color = 'black';
                document.getElementById('quizRes').innerText = "DOÄRU CEVAP! (+20 XP)";
                document.getElementById('quizRes').style.color = "var(--neon-green)";
                addXP(20); 
            } else { 
                btn.style.background = 'var(--neon-red)';
                document.getElementById('quizRes').innerText = "YANLIÅ CEVAP! SÄ°STEM HASAR ALDI.";
                document.getElementById('quizRes').style.color = "var(--neon-red)";
            }
        }; 
        opts.appendChild(btn);
    });
}
function closeQuiz() { document.getElementById('quizModal').style.display = 'none'; }

// KAYIT SÄ°STEMÄ°
function loadSys() { const d = localStorage.getItem('yks_titan_v5'); if(d) user = JSON.parse(d); updateHUD(); }
function saveSys() { localStorage.setItem('yks_titan_v5', JSON.stringify(user)); updateHUD(); }
function resetSys() { if(confirm("DÄ°KKAT! TÃœM Ä°LERLEME SÄ°LÄ°NECEK. ONAYLIYOR MUSUNUZ?")) { localStorage.removeItem('yks_titan_v5'); location.reload(); } }
function addXP(amount) { 
    user.xp += amount; user.totalXP += amount; 
    const req = user.level * 250; 
    if(user.xp >= req) { user.xp -= req; user.level++; alert(`TERFÄ° ALDINIZ! YENÄ° RÃœTBE: LEVEL ${user.level}`); } 
    saveSys(); 
}
function updateHUD() { 
    const req = user.level * 250; const pct = (user.xp / req) * 100; 
    document.getElementById('xpText').innerText = `${user.xp}/${req} XP`; 
    document.getElementById('levelLabel').innerText = `LEVEL ${user.level}`; 
    document.getElementById('xpBar').style.width = `${pct}%`; 
    document.getElementById('statTopics').innerText = user.finished.length; 
    document.getElementById('statXP').innerText = user.totalXP; 
}
</script>
</body>
</html>